maas_username: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          38306265616339303461643132656363626430393432646130623337303638396431386137663332
          6437323066363739376535303833366466626266303564390a316434633737393731636637643666
          63393931363232653639636663663735656230383938363138376230313639643664653561313964
          3934656562616330380a396432636637623433373537383836333066363061376432316166323330
          3739
maas_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          38636239656634303338383462326330663564636565613761666665646637646339303132636533
          3838636363383138386237386239393264646563633762360a613238313966623239646663346631
          33656535663464386230663266346631363730653763616166633737366266386633666235393062
          6666653032386232650a623839383161356339313535643164363735623331336364323062336335
          3264

dns_server: 10.66.0.1

maas_configs_global:
  maas:
    upstream_dns: 10.66.3.25 10.66.3.26
    ntp_servers:  10.251.4.4 10.251.4.5 10.252.4.4 10.252.4.5
    network_discovery: disabled
  node_scripts:
    scripts_dir: /root/user_scripts
    user_scripts:
      - name: Script1
        file: script1.sh
      - name: Script2
        file: script2.sh
  static_routes:
    - source: 10.66.0.0/16
      destination: 192.168.66.0/24
      gateway_ip: 10.66.0.1
  subnets:
    -  subnet_name: 10.168.0.0/24
       cidr: 10.168.0.0/24
       dns_servers: 10.168.0.5
       vid: 100
    -  subnet_name: 10.169.0.0/24
       cidr: 10.169.0.0/24
       dns_servers: 10.168.0.6
       vid: 200
  untagged_subnets:
    - name: Test192
      description: Test 192.168 network
      cidr: 192.168.66.0/24
      gateway_ip: 192.168.66.1
    - name: Test10_66
      description: Test 10.66.0.0 network
      cidr: 10.66.0.0/16
      gateway_ip: 10.66.0.1
  tags:
    - name: global_tag_1
      comment: Global tag
    - name: global_tag_2
      comment: Another Global Tag
  vlans:
    - name: VLAN 100
      mtu: 9000
      vid: 100

maas_configs: |
    {{ maas_configs_global | combine(maas_configs_dc |default({}), list_merge='append_rp', recursive=true) |
       combine(maas_configs_env  |default({}), list_merge='append_rp', recursive=true) |
       combine(maas_configs_pod  |default({}), list_merge='append_rp', recursive=true) |
       combine(maas_configs_host |default({}), list_merge='append_rp', recursive=true)
    }}
